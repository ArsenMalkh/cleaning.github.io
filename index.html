<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Multiple Image Upload and Preview</title>
    <style>
        .preview-container {
            display: flex;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .image-preview {
            width: 100px;
            height: 100px;
            margin-right: 10px;
            margin-bottom: 10px;
            position: relative;
            background-size: cover;
            background-position: center center;
        }
        .image-preview .delete-button {
            position: absolute;
            top: 0;
            right: 0;
            background-color: rgba(255, 0, 0, 0.7);
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h2>Upload and Preview Images</h2>
<input type="file" id="fileToUpload" accept="image/*" multiple onchange="fileSelected(this.files)">

<div class="preview-container" id="previewContainer"></div>

<script>
function fileSelected(files) {
    var previewContainer = document.getElementById('previewContainer');
    previewContainer.innerHTML = ''; // Clear existing previews

    for (let i = 0; i < files.length; i++) {
        let file = files[i];

        if (!file.type.startsWith('image/')){ continue }

        let reader = new FileReader();
        reader.onload = function(e) {
            let imgContainer = document.createElement('div');
            imgContainer.classList.add('image-preview');
            imgContainer.style.backgroundImage = `url('${e.target.result}')`;

            let deleteButton = document.createElement('span');
            deleteButton.textContent = 'X';
            deleteButton.classList.add('delete-button');
            deleteButton.onclick = function() {
                imgContainer.remove(); // Remove the image preview
            };
            imgContainer.appendChild(deleteButton);

            previewContainer.appendChild(imgContainer);
        };
        reader.readAsDataURL(file);
    }
}
</script>

</body>
</html>
